// Mock data-services module for testing gridded_observations_app
// For tests only, so is a pure Node module
// Note this does not follow the arrangement for
// [Jest module "manual mocks"] (https://jestjs.io/docs/en/manual-mocks)

var convert = require('xml-js');

var mockHelpers = require('../../__test__/mock-helpers');
var makeMockGet = mockHelpers.makeMockGet;

// Mocking presently only for wind_day_TPS_NWNA_v1_historical_19450101-20121231

var catalog = {
    "wind_day_TPS_NWNA_v1_historical_19450101-20121231": "https://data.fake.org/data/gridded_observations/PNWNAmet_wind.nc"};
var getCatalog = makeMockGet('Catalog', catalog);


var metadata = {
    "units": "m/s", "max": 31.5894, "min": 0.00320975
};
var getMetadata = makeMockGet('Metadata', metadata);


var rasterAccordionMenuData = {
    "PNWNAmet 2015": {
        "pr": "pr_day_TPS_NWNA_v1_historical_19450101-20121231",
        "tasmax": "tasmax_day_TPS_NWNA_v1_historical_19450101-20121231",
        "tasmin": "tasmin_day_TPS_NWNA_v1_historical_19450101-20121231",
        "wind": "wind_day_TPS_NWNA_v1_historical_19450101-20121231"
    }
};
var getRasterAccordionMenuData = makeMockGet(
    'RasterAccordionMenuData', rasterAccordionMenuData, true);


// TODO: Feckin ell, can we cut this down?
// Maybe just to what the receiver cares about?
var ncwmsLayerCapablilitiesXml = [
    '<!DOCTYPE WMT_MS_Capabilities SYSTEM "http://schemas.opengis.net/wms/1.1.1/capabilities_1_1_1.dtd">',
    '<WMT_MS_Capabilities',
    'version="1.1.1"',
    'updateSequence="2019-05-30T22:10:32.932Z"',
    'xmlns:xlink="http://www.w3.org/1999/xlink">',
    '    <!-- Service Metadata -->',
    '<Service>',
    '<!-- The WMT-defined name for this type of service -->',
    '<Name>OGC:WMS</Name>',
    '<!-- Human-readable title for pick lists -->',
    '<Title>My ncWMS server</Title>',
    '<!-- Narrative description providing additional information -->',
    '<Abstract> </Abstract>',
    '<KeywordList>',
    '',
    '',
    '<Keyword> </Keyword>',
    '',
    '</KeywordList>',
    '<!-- Top-level web address of service or service provider. See also OnlineResource',
    'elements under <DCPType>. -->',
    '<OnlineResource xlink:type="simple" xlink:href=" "/>',
    '    <!-- Contact information -->',
    '<ContactInformation>',
    '<ContactPersonPrimary>',
    '<ContactPerson> </ContactPerson>',
    '<ContactOrganization> </ContactOrganization>',
    '</ContactPersonPrimary>',
    '<ContactVoiceTelephone> </ContactVoiceTelephone>',
    '<ContactElectronicMailAddress> </ContactElectronicMailAddress>',
    '</ContactInformation>',
    '<!-- Fees or access constraints imposed. -->',
    '<Fees>none</Fees>',
    '<AccessConstraints>none</AccessConstraints>',
    '</Service>',
    '<Capability>',
    '<Request>',
    '<GetCapabilities>',
    '<Format>application/vnd.ogc.wms_xml</Format>',
    '<DCPType>',
    '<HTTP>',
    '<Get>',
    '<OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms" />',
    '    </Get>',
    '    </HTTP>',
    '    </DCPType>',
    '    </GetCapabilities>',
    '    <GetMap>',
    '',
    '    <Format>image/png</Format>',
    '',
    '    <Format>image/png;mode=32bit</Format>',
    '',
    '<Format>image/gif</Format>',
    '',
    '<Format>image/jpeg</Format>',
    '',
    '<Format>application/vnd.google-earth.kmz</Format>',
    '',
    '<DCPType>',
    '<HTTP>',
    '<Get>',
    '<OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms" />',
    '    </Get>',
    '    </HTTP>',
    '    </DCPType>',
    '    </GetMap>',
    '    <GetFeatureInfo>',
    '',
    '    <Format>image/png</Format>',
    '',
    '    <Format>text/xml</Format>',
    '',
    '    <DCPType>',
    '    <HTTP>',
    '    <Get>',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms" />',
    '    </Get>',
    '    </HTTP>',
    '    </DCPType>',
    '    </GetFeatureInfo>',
    '    </Request>',
    '    <Exception>',
    '    <Format>application/vnd.ogc.se_xml</Format>',
    '    <!--<Format>application/vnd.ogc.se_inimage</Format>',
    '    <Format>application/vnd.ogc.se_blank</Format>-->',
    '    </Exception>',
    '',
    '    <Layer>',
    '    <Title>My ncWMS server</Title>',
    '',
    '<SRS>EPSG:4326</SRS>',
    '',
    '<SRS>CRS:84</SRS>',
    '',
    '<SRS>EPSG:41001</SRS>',
    '',
    '<SRS>EPSG:27700</SRS>',
    '',
    '<SRS>EPSG:3408</SRS>',
    '',
    '<SRS>EPSG:3409</SRS>',
    '',
    '<SRS>EPSG:3857</SRS>',
    '',
    '<SRS>EPSG:32661</SRS>',
    '',
    '<SRS>EPSG:32761</SRS>',
    '',
    '',
    '',
    '<Layer>',
    '<Title>wind_day_TPS_NWNA_v1_historical_19450101-20121231</Title>',
    '',
    '<Layer queryable="1">',
    '    <Name>wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind</Name>',
    '    <Title>wind</Title>',
    '    <Abstract>Surface (10m) wind speed</Abstract>',
    '',
    '<LatLonBoundingBox minx="-169.0" maxx="-101.0" miny="40.0" maxy="72.0"/>',
    '    <BoundingBox SRS="EPSG:4326" minx="-169.0" maxx="-101.0" miny="40.0" maxy="72.0"/>',
    '',
    '    <Dimension name="time" units="ISO8601"/>',
    '',
    '',
    '',
    '    <Extent name="time" multipleValues="1" current="1" default="2012-12-31T00:00:00.000Z">',
    '',
    '',
    '',
    '',
    '    1945-01-01T00:00:00.000Z/2012-12-31T00:00:00.000Z/P1D',
    '',
    '',
    '</Extent>',
    '',
    '',
    '',
    '',
    '',
    '<Style>',
    '<Name>boxfill/alg</Name>',
    '<Title>boxfill/alg</Title>',
    '<Abstract>boxfill style, using the alg palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=alg"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/greyscale</Name>',
    '    <Title>boxfill/greyscale</Title>',
    '    <Abstract>boxfill style, using the greyscale palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=greyscale"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/ncview</Name>',
    '    <Title>boxfill/ncview</Title>',
    '    <Abstract>boxfill style, using the ncview palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=ncview"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/occam</Name>',
    '    <Title>boxfill/occam</Title>',
    '    <Abstract>boxfill style, using the occam palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=occam"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/yellow_red</Name>',
    '    <Title>boxfill/yellow_red</Title>',
    '    <Abstract>boxfill style, using the yellow_red palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=yellow_red"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/blue7_red3</Name>',
    '    <Title>boxfill/blue7_red3</Title>',
    '    <Abstract>boxfill style, using the blue7_red3 palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=blue7_red3"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/red_yellow</Name>',
    '    <Title>boxfill/red_yellow</Title>',
    '    <Abstract>boxfill style, using the red_yellow palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=red_yellow"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/lightblue_darkblue_log</Name>',
    '    <Title>boxfill/lightblue_darkblue_log</Title>',
    '    <Abstract>boxfill style, using the lightblue_darkblue_log palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=lightblue_darkblue_log"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/occam_inv</Name>',
    '    <Title>boxfill/occam_inv</Title>',
    '    <Abstract>boxfill style, using the occam_inv palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=occam_inv"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/sst_36</Name>',
    '    <Title>boxfill/sst_36</Title>',
    '    <Abstract>boxfill style, using the sst_36 palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=sst_36"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/ferret</Name>',
    '    <Title>boxfill/ferret</Title>',
    '    <Abstract>boxfill style, using the ferret palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=ferret"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/occam_pastel-30</Name>',
    '    <Title>boxfill/occam_pastel-30</Title>',
    '    <Abstract>boxfill style, using the occam_pastel-30 palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=occam_pastel-30"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/redblue</Name>',
    '    <Title>boxfill/redblue</Title>',
    '    <Abstract>boxfill style, using the redblue palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=redblue"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/brown_green</Name>',
    '    <Title>boxfill/brown_green</Title>',
    '    <Abstract>boxfill style, using the brown_green palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=brown_green"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/blueheat</Name>',
    '    <Title>boxfill/blueheat</Title>',
    '    <Abstract>boxfill style, using the blueheat palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=blueheat"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/blue4_red6</Name>',
    '    <Title>boxfill/blue4_red6</Title>',
    '    <Abstract>boxfill style, using the blue4_red6 palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=blue4_red6"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/alg2</Name>',
    '    <Title>boxfill/alg2</Title>',
    '    <Abstract>boxfill style, using the alg2 palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=alg2"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/lightblue_darkblue_log_nc</Name>',
    '    <Title>boxfill/lightblue_darkblue_log_nc</Title>',
    '    <Abstract>boxfill style, using the lightblue_darkblue_log_nc palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=lightblue_darkblue_log_nc"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/brown_blue</Name>',
    '    <Title>boxfill/brown_blue</Title>',
    '    <Abstract>boxfill style, using the brown_blue palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=brown_blue"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/blue6_red4</Name>',
    '    <Title>boxfill/blue6_red4</Title>',
    '    <Abstract>boxfill style, using the blue6_red4 palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=blue6_red4"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/blue_brown</Name>',
    '    <Title>boxfill/blue_brown</Title>',
    '    <Abstract>boxfill style, using the blue_brown palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=blue_brown"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/blue_darkred</Name>',
    '    <Title>boxfill/blue_darkred</Title>',
    '    <Abstract>boxfill style, using the blue_darkred palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=blue_darkred"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/lightblue_darkblue</Name>',
    '    <Title>boxfill/lightblue_darkblue</Title>',
    '    <Abstract>boxfill style, using the lightblue_darkblue palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=lightblue_darkblue"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '    <Style>',
    '    <Name>boxfill/rainbow</Name>',
    '    <Title>boxfill/rainbow</Title>',
    '    <Abstract>boxfill style, using the rainbow palette </Abstract>',
    '<LegendURL width="110" height="264">',
    '    <Format>image/png</Format> ',
    '    <OnlineResource xlink:type="simple" xlink:href="http://pizza.pcic.uvic.ca:8080/ncWMS-PCIC/wms?REQUEST=GetLegendGraphic&amp;LAYER=wind_day_TPS_NWNA_v1_historical_19450101-20121231/wind&amp;PALETTE=rainbow"/>',
    '    </LegendURL>',
    '    </Style>',
    '',
    '',
    '    </Layer>',
    '',
    '    </Layer>',
    '',
    '',
    '    </Layer>',
    '    </Capability>',
    '    </WMT_MS_Capabilities>',
].join('\n');
var ncwmsLayerCapabilities = convert.xml2js(ncwmsLayerCapablilitiesXml);
var getNCWMSLayerCapabilities = makeMockGet('NCWMSLayerCapabilities', ncwmsLayerCapabilities);


var ncwmsLayerDDS = [
    [
        'Dataset {',
        '    Float64 time[time = 24837];',
        '} PNWNAmet_wind%2Enc;',
    ].join('\n')
];
var getNcwmsLayerDDS = makeMockGet('NcwmsLayerDDS', ncwmsLayerDDS);


var ncwmsLayerDAS = [
    [
        'Attributes {',
        '    NC_GLOBAL {',
        '        Int32 _nc3_strict 1;',
        '        String notes "Tps interpolation to 0.0625-deg grid over western North America using AHCCD, GHCN, and USHCN daily station data, GMTED2010 DEM, and ClimateWNA monthly climatologies (tmin20, tmax20, prec300 scaling); acannon@uvic.ca";',
        '        String CDO "Climate Data Operators version 1.6.9 (http:  mpimet.mpg.de/cdo)";',
        '        String CDI "Climate Data Interface version 1.6.9 (http:  mpimet.mpg.de/cdi)";',
        '        String Conventions "CF-1.4";',
        '        String date "2015-04-05 16:57:30";',
        '        String history "Thu Nov 23 13:07:32 2017: cdo -select,name=wind pr+tasmax+tasmin+wind.Tps.CWNA-VIC-biasc.1945-2012.compressed.nc tps_wind.nc',
        'Wed Dec 02 13:41:10 2015: cdo -f nc4c -z zip copy pr+tasmax+tasmin+wind.Tps.CWNA-VIC-biasc.1945-2012.nc pr+tasmax+tasmin+wind.Tps.CWNA-VIC-biasc.1945-2012.compressed.nc',
        'Fri Apr 10 14:18:08 2015: ncrename -v latitude,lat pr+tasmax+tasmin+wind.Tps.CWNA-VIC-biasc.1945-2012.nc',
        'Fri Apr 10 14:17:10 2015: ncrename -v longitude,lon pr+tasmax+tasmin+wind.Tps.CWNA-VIC-biasc.1945-2012.nc";',
        '    }',
        '    DODS_EXTRA {',
        '        String Unlimited_Dimension "time";',
        '    }',
        '    lon {',
        '        String long_name "longitude";',
        '        String standard_name "longitude";',
        '        String NAME "lon";',
        '        String units "degrees_east";',
        '        Int32 _Netcdf4Dimid 0;',
        '        String CLASS "DIMENSION_SCALE";',
        '        String axis "X";',
        '    }',
        '    lat {',
        '        String long_name "latitude";',
        '        String standard_name "latitude";',
        '        String NAME "lat";',
        '        String units "degrees_north";',
        '        Int32 _Netcdf4Dimid 1;',
        '        String CLASS "DIMENSION_SCALE";',
        '        String axis "Y";',
        '    }',
        '    time {',
        '        String long_name "time";',
        '        String standard_name "time";',
        '        String NAME "time";',
        '        String units "days since 1945-01-01 00:00:00";',
        '        Int32 _Netcdf4Dimid 2;',
        '        String calendar "standard";',
        '        String CLASS "DIMENSION_SCALE";',
        '    }',
        '    wind {',
        '        Float32 _FillValue -9.96921e+36;',
        '        String standard_name "wind";',
        '        String projection "+proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0";',
        '        String projection_format "PROJ.4";',
        '        String long_name "Surface (10m) wind speed";',
        '        String units "m/s";',
        '        Float32 missing_value -9.96921e+36;',
        '    }',
        '}        ',
    ].join('\n')
];
var getNcwmsLayerDAS = makeMockGet('NcwmsLayerDAS', ncwmsLayerDAS);


var getStationCount = mockHelpers.unexpectedRequest({
    name: 'getStationCount', log: true, throw: true,
});


var getRecordLength = mockHelpers.unexpectedRequest({
    name: 'getRecordLength', log: true, throw: true,
});


module.exports = {
    getCatalog: getCatalog,
    getMetadata: getMetadata,
    getRasterAccordionMenuData: getRasterAccordionMenuData,
    getNCWMSLayerCapabilities: getNCWMSLayerCapabilities,
    getNcwmsLayerDDS: getNcwmsLayerDDS,
    getNcwmsLayerDAS: getNcwmsLayerDAS,
    getStationCount: getStationCount,
    getRecordLength: getRecordLength,
};


